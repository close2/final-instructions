<!DOCTYPE html>
<html>
<head>
    <title>Final Instructions</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
    <script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/secrets.js-grempe@2.0.0/secrets.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
    <script type="module" src="script.js"></script>
</head>
<body>
    <div id="adminSection" style="display: none;">
        <h2>Key Management</h2>
        <div>
            <label>Number of Shares:</label>
            <input type="number" id="numShares" value="9">
            <label>Required Shares:</label>
            <input disabled type="number" id="threshold" value="3">
            <button id="generateButton">Generate Keys</button>
        </div>
        <div id="generatedContent">
            <h4>Individual Shares:</h4>
            <pre id="sharesList"></pre>
            <h4>Master Key (for editing):</h4>
            <pre id="masterKey"></pre>
        </div>
        <h2>Edit Instructions</h2>
        <div id="editSection">
            <input type="password" id="editMasterPassword" placeholder="Enter master password">
            <button id="importButton">Import</button>
            <textarea id="markdownEditor"></textarea>
            <button id="saveButton">Save</button>
        </div>
    </div>
    <div id="userSection">
        <h1>Final Instructions</h1>
        <div id="passwordForm">
            <input type="password" id="passwordInput" placeholder="Enter your password">
            <button id="submitButton">Submit Password</button>
            <p>Passwords submitted: <span id="passwordCount">0</span> / <span id="requiredShares">0</span></p>
        </div>
        <div id="content" style="display: none;"></div>
    </div>
</body>
</html>

<script type="module">
    import { initializeApp } from './script.js';
    initializeApp();
</script>